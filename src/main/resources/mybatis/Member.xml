<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- namespace속성:매퍼파일의 완전한경로 .xml는 생략 -->
<!-- ※ibatis와는 다르게 id값에 .(dot)를 사용 못한다. -->
<mapper namespace="mybatis.Member">
	<select id="isLogin" parameterType="java.util.Map" resultType="int">
		SELECT COUNT(*) FROM userinfo WHERE user_id=#{id} AND user_pwd=#{pwd}
	</select>
	<select id="androidLogin" parameterType="AndroidMemberDTO" resultType="AndroidMemberDTO">
		SELECT * FROM userinfo WHERE user_id=#{user_id} AND user_pwd=#{user_pwd}
	</select>
	
	<insert id="signUp" parameterType="MemberDTO">
		INSERT INTO userinfo VALUES(#{id},#{name},#{pwd},#{rrn},#{gender})
	</insert>
	<select id="idCheck" parameterType="java.lang.String" resultType="int">
		SELECT COUNT(*) FROM userinfo WHERE user_id=#{id}
	</select>	
	<select id="myPlannerListSelectList" parameterType="java.util.Map" resultType="PlannerDTO">
		SELECT * FROM planner WHERE user_id=#{user_id}
	</select>
	
	<insert id="kako" parameterType="MemberDTO">
		INSERT INTO userinfo(USER_ID,USER_PWD,USER_RRN,USER_GENDER) VALUES(#{kakaoemail},#{kakoid},#{rrn},#{gender})
	</insert>
	<select id="selectMemberDTO" resultType="MemberDTO" parameterType="java.lang.String" >
		SELECT * FROM userinfo WHERE user_id=#{id}
	</select>
	<update id="updateMemberDTO" parameterType="java.util.Map">
		UPDATE userinfo SET ${updateColumn}=#{value} where user_id=#{id}
	</update>
</mapper>

